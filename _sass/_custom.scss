/* === Paper Modal (smooth) === */

.paper-modal{
    position: fixed;
    inset: 0;
    z-index: 9998;
  
    /* 默认不可见，但保留在渲染树里才能动画 */
    visibility: hidden;
    pointer-events: none;
  }
  
  .paper-modal__backdrop{
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,.45);
    opacity: 0;
    transition: opacity .28s ease;
  }
  
  .paper-modal__dialog{
    position: absolute;
    left: 50%;
    top: 50%;
  
    width: min(1100px, 92vw);
    height: min(70vh, 680px);
    background: #fff;
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 18px 60px rgba(0,0,0,.35);
  
    opacity: 0;
    transform: translate(-50%, -50%) scale(.96);
    transition: opacity .28s ease, transform .28s cubic-bezier(.2,.8,.2,1);
    will-change: opacity, transform;
  }
  
  .paper-modal.is-open{
    visibility: visible;
    pointer-events: auto;
  }
  
  .paper-modal.is-open .paper-modal__backdrop{
    opacity: 1;
  }
  
  .paper-modal.is-open .paper-modal__dialog{
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
  
  .paper-modal__close{
    position: absolute;
    top: 12px;
    right: 12px;
    border: none;
    background: rgba(0,0,0,.08);
    border-radius: 12px;
    padding: 8px 12px;
    cursor: pointer;
    z-index: 2;
  }
  
  .paper-modal__content{
    display: grid;
    grid-template-columns: 1.25fr 1fr;
    height: 100%;
  }
  
  .paper-modal__left{
    background: #ffffff;
    padding: 10px;   /* 缩小一点边距更“填充” */
    overflow: hidden; /* 关键：允许铺满裁剪 */
    display: flex;
    align-items: stretch;
    justify-content: stretch;
  }
  .paper-modal__left img{
    width: 95%;            /* 宽度填满 */
    height: auto;           /* 按比例缩放 */
    max-height: 100%;       /* 不超过容器高度 */
    object-fit: contain;    /* 保证不裁剪 */
    background: #ffffff;
    border-radius: 12px;
    border: 1px solid #eee;
  }
  
  .paper-modal__right{
    padding: 22px;
    overflow: auto;
  }
  
  .paper-modal__abs{
    line-height: 1.6;
    white-space: pre-wrap;
  }
  
  /* Mobile */
  @media (max-width: 900px){
    .paper-modal__dialog{ height: 82vh; }
    .paper-modal__content{ grid-template-columns: 1fr; }
    .paper-modal__left{ max-height: 42vh; }
  }
  
  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce){
    .paper-modal__backdrop,
    .paper-modal__dialog{
      transition: none;
    }
  }

  body.modal-open {
    overflow: hidden;
  }
  
  html.modal-open {
    overflow: hidden;
  }
